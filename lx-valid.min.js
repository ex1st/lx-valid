/*!
 * lx-valid - v0.5.3 - 2019-09-25
 * https://github.com/litixsoft/lx-valid
 *
 * Copyright (c) 2019 Litixsoft GmbH
 * Licensed MIT
 */


!function(e){"use strict";function p(e){if(null===e)return"null";if(e&&(1===e.nodeType||9===e.nodeType))return"element";var t=Object.prototype.toString.call(e).match(/\[object (.*?)\]/)[1].toLowerCase();if("number"===t){if(isNaN(e))return"nan";if(!isFinite(e))return"infinity"}return t}function y(e,t,r){!0===(r=u({},y.defaults,r)).trim&&(String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}));var n=[];return t.items?g(e,e,"",t,r,n):v(e,t,r,n),{valid:!n.length,errors:n}}function u(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError("mixin non-object");for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}}return e}function v(e,t,r,n){var u,i,a=Object.keys(e),o=[];if(t.properties)for(i in u=t.properties)u.hasOwnProperty(i)&&(o.push(i),g(e,e[i],i,u[i],r,n));if(t.patternProperties)for(i in u=t.patternProperties)if(u.hasOwnProperty(i)){var s=new RegExp(i);for(var f in e)e.hasOwnProperty(f)&&null!==s.exec(f)&&(g(e,e[f],f,u[i],r,n),o.push(f))}if(r.deleteUnknownProperties)for(i in e)e.hasOwnProperty(i)&&-1===o.indexOf(i)&&delete e[i];if(r.unknownProperties)for(i in e)e.hasOwnProperty(i)&&-1===o.indexOf(i)&&("delete"===r.unknownProperties?delete e[i]:"error"===r.unknownProperties&&x("unknown",i,e[i],t,n));if(void 0!==t.additionalProperties){var l,m,d=a.filter(function(e){return-1===o.indexOf(e)});if(!1===t.additionalProperties&&0<d.length)for(l=0,m=d.length;l<m;l++)x("additionalProperties",d[l],e[d[l]],!1,n);else if("object"==typeof t.additionalProperties&&0<d.length)for(l=0,m=d.length;l<m;l++)g(e,e[d[l]],d[l],t.unvisitedProperties,r,n)}}function g(i,a,o,u,s,f){var e,t,r,n,l;function m(e,t,r){void 0===u[e]||r(t,u[e],i)||x(e,o,t,u,f)}if(!s.ignoreNullValues||null!==a){if("string"==typeof a&&!0===s.strictRequired&&u.required)if(""===(!0===s.trim?a.trim():a))return x("required",o,void 0,u,f);if(void 0===a){if(void 0===u.default||!s.addMissingDefaults)return u.required&&"any"!==u.type?x("required",o,void 0,u,f):void m("conform",a,function(e,t,r){return t(e,r)});"function"==typeof u.default?i[o]=a=u.default():i[o]=a=u.default,m("conform",a,function(e,t,r){return t(e,r)})}if(s.cast&&("integer"!==u.type&&"number"!==u.type&&"float"!==u.type||null===a||"boolean"==typeof a||isNaN(+a)||(a=+a,i[o]=a),"boolean"===u.type&&("true"!==a&&"1"!==a&&1!==a||(a=!0,i[o]=a),"false"!==a&&"0"!==a&&0!==a||(a=!1,i[o]=a))),u.format&&s.validateFormats&&"string"==typeof a){var d=b(u.format)?u.format:[u.format];for(t=!1,n=0,l=d.length;n<l;n++)if(e=d[n].toLowerCase().trim(),s.validateFormatExtensions&&(r=y.formatExtensions[e]),r=r||y.formats[e]){if(r.test(a)){if(s.convert&&"function"==typeof s.convert)if(b(i[o])||b(i)){var F=b(i)?i:i[o],c=F.indexOf(a);F[c]=s.convert(e,a)}else i[o]=s.convert(e,a);t=!0;break}t=!1}else if(s.validateFormatsStrict){t=!1;break}if(!t)return x("format",o,a,u,f)}if(u.enum)if("array"===u.type&&b(a)){for(n=0;n<a.length;n++)if(-1===u.enum.indexOf(a[n])){x("enum",o,a,u,f);break}}else-1===u.enum.indexOf(a)&&x("enum",o,a,u,f);if("string"==typeof u.dependencies&&void 0===i[u.dependencies]&&x("dependencies",o,null,u,f),b(u.dependencies))for(n=0,l=u.dependencies.length;n<l;n++)void 0===i[u.dependencies[n]]&&x("dependencies",o,null,u,f);"object"==typeof u.dependencies&&v(i,u.dependencies,s,f),function(e,t,r){var n=b(t)?t:[t];if(void 0===t)return r(null,t);for(var u=0,i=n.length;u<i;u++){t=n[u].trim();var a=(void 0,y.types[o=t]||y.types[o.toLowerCase()]);if(!a)return r(!0);if(a(e))return r(null,t)}var o;r(!0)}(a,u.type,function(e,t){if(e)return x("type",o,p(a),u,f);switch(m("conform",a,function(e,t,r){return t(e,r)}),t||(b(a)?"array":typeof a)){case"string":if(!0===s.trim)if(b(i[o])){var r=i[o].indexOf(a);"string"==typeof i[o][r]&&(i[o][r]=a.trim())}else"string"==typeof i[o]&&(i[o]=a.trim());m("minLength",a.length,function(e,t){return t<=e}),m("maxLength",a.length,function(e,t){return e<=t}),m("pattern",a,function(e,t){return(t="string"==typeof t?t=new RegExp(t):t).test(e)});break;case"integer":case"number":m("minimum",a,function(e,t){return t<=e}),m("maximum",a,function(e,t){return e<=t}),m("exclusiveMinimum",a,function(e,t){return t<e}),m("exclusiveMaximum",a,function(e,t){return e<t}),m("divisibleBy",a,function(e,t){var r=Math.max((e-Math.floor(e)).toString().length-2,(t-Math.floor(t)).toString().length-2);return e*(r=0<r?Math.pow(10,r):1)%(t*r)==0});break;case"array":m("items",a,function(e,t){for(var r,n=0,u=e.length;n<u;n++)r=[],g(i,e[n],o,t,s,r),r.forEach(function(e){b(a)&&e.property===o?e.property=(o?o+".":"")+n:e.property=(o?o+".":"")+n+(e.property?"."+e.property.replace(o+".",""):"")}),r.unshift(f.length,0),Array.prototype.splice.apply(f,r);return!0}),m("minItems",a,function(e,t){return e.length>=t}),m("maxItems",a,function(e,t){return e.length<=t}),m("uniqueItems",a,function(e,t){if(!t)return!0;for(var r={},n=0,u=e.length;n<u;n++){var i=JSON.stringify(e[n]);if(r[i])return!1;r[i]=!0}return!0});break;case"object":if(u.properties||u.patternProperties||u.additionalProperties){var n=[];v(a,u,s,n),n.forEach(function(e){e.property=o+"."+e.property}),n.unshift(f.length,0),Array.prototype.splice.apply(f,n)}}s.transform&&"function"==typeof s.transform&&s.transform({object:i,value:a,property:o,schema:u,options:s,errors:f})})}}function x(e,t,r,n,u){var i={expected:n[e],actual:r,attribute:e,property:t},a=n.messages&&n.messages[e]||n.message||y.messages[e]||"no default message";a=a.replace(/%\{([a-z]+)\}/gi,function(e,t){return i[t.toLowerCase()]||""}),u.push({attribute:e,property:t,expected:n[e],actual:r,message:a})}function b(e){return!("object"!=typeof e||!e||"number"!=typeof e.length||e.propertyIsEnumerable("length")||"function"!=typeof e.splice)}y.defaults={validateFormats:!0,validateFormatsStrict:!1,validateFormatExtensions:!0,addMissingDefaults:!1,unknownProperties:"ignore",trim:!1,strictRequired:!1,ignoreNullValues:!1,transform:null},(y.messages={required:"is required",minLength:"is too short (minimum is %{expected} characters)",maxLength:"is too long (maximum is %{expected} characters)",pattern:"invalid input",minimum:"must be greater than or equal to %{expected}",maximum:"must be less than or equal to %{expected}",exclusiveMinimum:"must be greater than %{expected}",exclusiveMaximum:"must be less than %{expected}",divisibleBy:"must be divisible by %{expected}",minItems:"must contain more than %{expected} items",maxItems:"must contain less than %{expected} items",uniqueItems:"must hold a unique set of values",format:"is not a valid %{expected}",conform:"must conform to given constraint",type:"must be of %{expected} type",additionalProperties:"must not exist",unknown:"is not defined in schema"}).enum="must be present in given enumerator",y.formats={email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,"ip-address":/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i,ipv6:/^([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4}$/,"date-time":/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:.\d{1,3})?Z$/,date:/^\d{4}-\d{2}-\d{2}$/,time:/^\d{2}:\d{2}:\d{2}$/,color:/^#[a-z0-9]{6}|#[a-z0-9]{3}|(?:rgb\(\s*(?:[+-]?\d+%?)\s*,\s*(?:[+-]?\d+%?)\s*,\s*(?:[+-]?\d+%?)\s*\))aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow$/i,"host-name":/^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])/,"utc-millisec":{test:function(e){return"number"==typeof e&&0<=e}},regex:{test:function(e){try{new RegExp(e)}catch(e){return!1}return!0}},"mongo-id":/^[0-9a-fA-F]{8}[0-9a-fA-F]{6}[0-9a-fA-F]{4}[0-9a-fA-F]{6}$/,"number-float":/^[\-\+]?\b(\d+[.]\d+$)$/,float:/^[\-\+]?\b(\d+[.]\d+$)$/,integer:/^[\-\+]?[0-9]+$/,empty:/^$/},y.formatExtensions={url:/^(https?|ftp|git):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},y.types={string:function(e){return"string"===p(e)},number:function(e){return"number"===p(e)},boolean:function(e){return"boolean"===p(e)},date:function(e){return"date"===p(e)},regexp:function(e){return"regexp"===p(e)},array:function(e){return"array"===p(e)},object:function(e){return"object"===p(e)},integer:function(e){return"number"===p(e)&&Math.floor(e)===e},float:function(e){return"number"===p(e)&&new RegExp(y.formats.float).exec(e)},null:function(e){return"null"===p(e)},undefined:function(e){return"undefined"===p(e)},any:function(e){return void 0!==e},mongoId:function(e){return e&&"object"==typeof e&&"ObjectID"===e._bsontype&&y.formats["mongo-id"].test(e)}},e.validate=y,e.mixin=u}("undefined"==typeof window?module.exports:window.json=window.json||{}),function(s,u){"use strict";var e,t,a,r;function n(e,t,r){return{attribute:e,expected:t,actual:r,message:function(e,t){return(u.validate.messages[e]||"").replace("%{expected}",t)}(e,t)}}function i(e){var t={valid:!0,errors:[]};return null!==e&&(t.valid=!1,t.errors.push(e)),t}function o(t,r){return function(e){return r[t](e).valid}}function f(t){return function(e){return u.validate.types[t](e)?i(null):i(n("type",t,e))}}s.validate=u.validate,s.mixin=u.mixin,s.extendFormat=function(e,t){if("string"!=typeof e||!(t instanceof RegExp))throw new Error("extensionName or extensionValue undefined or not correct type");if(u.validate.formats.hasOwnProperty(e)||u.validate.formats.hasOwnProperty(e))throw new Error("extensionName: "+e+" already exists in formatExtensions.");u.validate.formatExtensions[e]=t},s.formats={email:function(e){return u.validate.formats.email.test(e)?i(null):i(n("format","email",e))},ipAddress:function(e){return u.validate.formats["ip-address"].test(e)?i(null):i(n("format","ip-address",e))},ipv6:function(e){return u.validate.formats.ipv6.test(e)?i(null):i(n("format","ipv6",e))},dateTime:function(e){return u.validate.formats["date-time"].test(e)?i(null):i(n("format","date-time",e))},date:function(e){return u.validate.formats.date.test(e)?i(null):i(n("format","date",e))},time:function(e){return u.validate.formats.time.test(e)?i(null):i(n("format","time",e))},color:function(e){return u.validate.formats.color.test(e)?i(null):i(n("format","color",e))},hostName:function(e){return u.validate.formats["host-name"].test(e)?i(null):i(n("format","host-name",e))},utcMillisec:function(e){return u.validate.formats["utc-millisec"].test(e)?i(null):i(n("format","utc-millisec",e))},regex:function(e){return e instanceof RegExp?i(null):i(n("format","regex",e))},url:function(e){return u.validate.formatExtensions.url.test(e)?i(null):i(n("format","url",e))},mongoId:function(e){return u.validate.formats["mongo-id"].test(e)?i(null):i(n("format","mongoId",e))},numberFloat:function(e){return"string"==typeof e&&u.validate.formats["number-float"].test(e)?i(null):i(n("format","float",e))},float:function(e){return"string"==typeof e&&u.validate.formats.float.test(e)?i(null):i(n("format","float",e))},integer:function(e){return"string"==typeof e&&u.validate.formats.integer.test(e)?i(null):i(n("format","integer",e))},empty:function(e){return u.validate.formats.empty.test(e)?i(null):i(n("format","empty",e))}},s.types=function(){var e,t={},r=Object.keys(u.validate.types),n=r.length;for(e=0;e<n;e++)t[r[e]]=f(r[e]);return t}(),s.rules=((e={maxLength:function(e,t){return!Array.isArray(e)&&"string"!=typeof e||"number"!=typeof t?i(new Error("rules.maxLength(fail): value must be a string or array, max must be a number")):e.length>t?i(n("maxLength",t,e)):i(null)},minLength:function(e,t){return!Array.isArray(e)&&"string"!=typeof e||"number"!=typeof t?i(new Error("rules.minLength(fail): value must be a string or array, min must be a number")):e.length<t?i(n("minLength",t,e)):i(null)},minimum:function(e,t){return i("number"!=typeof e||"number"!=typeof t?new Error("rules.minimum(fail): value must be a number, min must be a number"):e<t?n("minimum",t,e):null)},maximum:function(e,t){return i("number"!=typeof e||"number"!=typeof t?new Error("rules.maximum(fail): value must be a number, max must be a number"):t<e?n("maximum",t,e):null)},exclusiveMinimum:function(e,t){return i("number"!=typeof e||"number"!=typeof t?new Error("rules.exclusiveMinimum(fail): value must be a number, min must be a number"):e<=t?n("exclusiveMinimum",t,e):null)},exclusiveMaximum:function(e,t){return i("number"!=typeof e||"number"!=typeof t?new Error("rules.exclusiveMaximum(fail): value must be a number, max must be a number"):t<=e?n("exclusiveMinimum",t,e):null)},divisibleBy:function(e,t){if("number"!=typeof e||"number"!=typeof t)return i(new Error("rules.divisibleBy(fail): value must be a number, div must be a number"));var r=Math.max((e-Math.floor(e)).toString().length-2,(t-Math.floor(t)).toString().length-2);return i(e*(r=0<r?Math.pow(10,r):1)%(t*r)!=0?n("divisibleBy",t,e):null)},minItems:function(e,t){return Array.isArray(e)&&"number"==typeof t?e.length<t?i(n("minItems",t,e.length)):i(null):i(new Error("rules.minItems(fail): value must be a array, min must be a number"))},maxItems:function(e,t){return Array.isArray(e)&&"number"==typeof t?e.length>t?i(n("maxItems",t,e.length)):i(null):i(new Error("rules.maxItems(fail): value must be a array, max must be a number"))}}).uniqueItems=function(e){return Array.isArray(e)?function(e){for(var t={},r=0,n=e.length;r<n;r++){var u=JSON.stringify(e[r]);if(t[u])return!1;t[u]=!0}return!0}(e)?i(null):i(n("uniqueItems",e,!0)):i(new Error("rules.uniqueItems(fail): value must be a array"))},e.enum=function(e,t){return void 0!==e&&Array.isArray(t)?-1===t.indexOf(e)?i(n("enum",t,e)):i(null):i(new Error("rules.enum(fail): value must be a defined and enum mus be a array"))},e),s.asyncValidate=(a=[],(t={}).register=function(t,r){a.push(function(e){t(r,e)})},t.exec=function(u,i){!function(n,u){if(0===n.length)return u(void 0,n);var i=new Array(n.length),a=0,o=!1;n.forEach(function(e,r){e(function(e,t){if(!o)return e?(o=!0,u(e)):(i[r]=t,(a+=1)===n.length?u(null,i):void 0)})})}(a,function(e,t){if(a=[],e)i(e);else{var r,n;for(r=0,n=t.length;r<n;r+=1)t[r].valid||(u.valid=!1,u.errors.push(t[r].errors[0]));i(null,u)}})},t),s.getValidationFunction=function(o){return o=o||{},function(e,t,r){if(e=e||{},(r=r||{}).isUpdate=r.isUpdate||!1,r.isUpdate){var n,u=Object.keys(t.properties),i=u.length;for(n=0;n<i;n++)e.hasOwnProperty(u[n])||(t.properties[u[n]].required=!1)}for(var a in o)o.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=o[a]);return s.validate(e,t,r)}};var l,m=Object.keys(s.types),d=m.length;for(r=0;r<d;r++)s["is"+(l=m[r])[0].toUpperCase()+l.substr(1)]=o(m[r],s.types)}("undefined"==typeof window?module.exports:window.lxvalid=window.lxvalid||{},"undefined"==typeof window?require("./revalidator"):window.json);
//# sourceMappingURL=lx-valid.min.js.map