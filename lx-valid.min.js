/*!
 * lx-valid - v0.5.4 - 2023-11-27
 * https://github.com/litixsoft/lx-valid
 *
 * Copyright (c) 2023 Litixsoft GmbH
 * Licensed MIT
 */
!function(e){"use strict";function D(e){if(null===e)return"null";if(e&&(1===e.nodeType||9===e.nodeType))return"element";var t=Object.prototype.toString.call(e).match(/\[object (.*?)\]/)[1].toLowerCase();if("number"===t){if(isNaN(e))return"nan";if(!isFinite(e))return"infinity"}return t}function w(e,t,r){!0!==(r=u({},w.defaults,r)).trim||String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var n=[];return t.items?A(e,e,"",t,r,n):E(e,t,r,n),{valid:!n.length,errors:n}}function u(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError("mixin non-object");for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}}return e}function E(e,t,r,n){var u,i,a=Object.keys(e),o=[];if(t.properties)for(i in u=t.properties)u.hasOwnProperty(i)&&(o.push(i),A(e,e[i],i,u[i],r,n));if(t.patternProperties)for(i in u=t.patternProperties)if(u.hasOwnProperty(i)){var s,f=new RegExp(i);for(s in e)e.hasOwnProperty(s)&&null!==f.exec(s)&&(A(e,e[s],s,u[i],r,n),o.push(s))}if(r.deleteUnknownProperties)for(i in e)e.hasOwnProperty(i)&&-1===o.indexOf(i)&&delete e[i];if(r.unknownProperties)for(i in e)e.hasOwnProperty(i)&&-1===o.indexOf(i)&&("delete"===r.unknownProperties?delete e[i]:"error"===r.unknownProperties&&z("unknown",i,e[i],t,n));if(void 0!==t.additionalProperties){var l,m,d=a.filter(function(e){return-1===o.indexOf(e)});if(!1===t.additionalProperties&&0<d.length)for(l=0,m=d.length;l<m;l++)z("additionalProperties",d[l],e[d[l]],!1,n);else if("object"==typeof t.additionalProperties&&0<d.length)for(l=0,m=d.length;l<m;l++)A(e,e[d[l]],d[l],t.unvisitedProperties,r,n)}}function A(i,a,o,n,s,f){var e,t;function u(e,t,r){void 0===n[e]||r(t,n[e],i)||z(e,o,t,n,f)}if(!s.ignoreNullValues||null!==a){if("string"==typeof a&&!0===s.strictRequired&&n.required)if(""===(!0===s.trim?a.trim():a))return z("required",o,void 0,n,f);if(void 0===a){if(void 0===n.default||!s.addMissingDefaults)return n.required&&"any"!==n.type?z("required",o,void 0,n,f):void u("conform",a,function(e,t,r){return t(e,r)});"function"==typeof n.default?i[o]=a=n.default():i[o]=a=n.default,u("conform",a,function(e,t,r){return t(e,r)})}if(s.cast&&("integer"!==n.type&&"number"!==n.type&&"float"!==n.type||null===a||"boolean"==typeof a||isNaN(+a)||(a=+a,i[o]=a),"boolean"===n.type)&&("true"!==a&&"1"!==a&&1!==a||(a=!0,i[o]=a),"false"!==a&&"0"!==a&&0!==a||(a=!1,i[o]=a)),n.format&&s.validateFormats&&"string"==typeof a){for(var r,l,m=C(n.format)?n.format:[n.format],d=!1,F=0,c=m.length;F<c;F++)if(e=m[F].toLowerCase().trim(),t=(t=s.validateFormatExtensions?w.formatExtensions[e]:t)||w.formats[e]){if(t.test(a)){s.convert&&"function"==typeof s.convert&&(C(i[o])||C(i)?(l=(r=C(i)?i:i[o]).indexOf(a),r[l]=s.convert(e,a)):i[o]=s.convert(e,a)),d=!0;break}d=!1}else if(s.validateFormatsStrict){d=!1;break}if(!d)return z("format",o,a,n,f)}if(n.enum)if("array"===n.type&&C(a)){for(F=0;F<a.length;F++)if(-1===n.enum.indexOf(a[F])){z("enum",o,a,n,f);break}}else-1===n.enum.indexOf(a)&&z("enum",o,a,n,f);if("string"==typeof n.dependencies&&void 0===i[n.dependencies]&&z("dependencies",o,null,n,f),C(n.dependencies))for(F=0,c=n.dependencies.length;F<c;F++)void 0===i[n.dependencies[F]]&&z("dependencies",o,null,n,f);"object"==typeof n.dependencies&&E(i,n.dependencies,s,f);var p=a,y=n.type,v=function(e,t){if(e)return z("type",o,D(a),n,f);switch(u("conform",a,function(e,t,r){return t(e,r)}),t||(C(a)?"array":typeof a)){case"string":!0===s.trim&&(C(i[o])?(r=i[o].indexOf(a),"string"==typeof i[o][r]&&(i[o][r]=a.trim())):"string"==typeof i[o]&&(i[o]=a.trim())),u("minLength",a.length,function(e,t){return t<=e}),u("maxLength",a.length,function(e,t){return e<=t}),u("pattern",a,function(e,t){return(t="string"==typeof t?new RegExp(t):t).test(e)});break;case"integer":case"number":u("minimum",a,function(e,t){return t<=e}),u("maximum",a,function(e,t){return e<=t}),u("exclusiveMinimum",a,function(e,t){return t<e}),u("exclusiveMaximum",a,function(e,t){return e<t}),u("divisibleBy",a,function(e,t){var r=Math.max((e-Math.floor(e)).toString().length-2,(t-Math.floor(t)).toString().length-2);return e*(r=0<r?Math.pow(10,r):1)%(t*r)==0});break;case"array":u("items",a,function(e,t){for(var r,n=0,u=e.length;n<u;n++)A(i,e[n],o,t,s,r=[]),r.forEach(function(e){C(a)&&e.property===o?e.property=(o?o+".":"")+n:e.property=(o?o+".":"")+n+(e.property?"."+e.property.replace(o+".",""):"")}),r.unshift(f.length,0),Array.prototype.splice.apply(f,r);return 1}),u("minItems",a,function(e,t){return e.length>=t}),u("maxItems",a,function(e,t){return e.length<=t}),u("uniqueItems",a,function(e,t){if(t)for(var r={},n=0,u=e.length;n<u;n++){var i=JSON.stringify(e[n]);if(r[i])return;r[i]=!0}return 1});break;case"object":var r;(n.properties||n.patternProperties||n.additionalProperties)&&(E(a,n,s,r=[]),r.forEach(function(e){e.property=o+"."+e.property}),r.unshift(f.length,0),Array.prototype.splice.apply(f,r))}s.transform&&"function"==typeof s.transform&&s.transform({object:i,value:a,property:o,schema:n,options:s,errors:f})},g=C(y)?y:[y];if(void 0===y)v(null,y);else{for(var x=0,b=g.length;x<b;x++){var h=function(e){return w.types[e]||w.types[e.toLowerCase()]}(y=g[x].trim());if(!h)return void v(!0);if(h(p))return void v(null,y)}v(!0)}}}function z(e,t,r,n,u){var i={expected:n[e],actual:r,attribute:e,property:t},a=(a=n.messages&&n.messages[e]||n.message||w.messages[e]||"no default message").replace(/%\{([a-z]+)\}/gi,function(e,t){return i[t.toLowerCase()]||""});u.push({attribute:e,property:t,expected:n[e],actual:r,message:a})}function C(e){return!("object"!=typeof e||!e||"number"!=typeof e.length||e.propertyIsEnumerable("length")||"function"!=typeof e.splice)}w.defaults={validateFormats:!0,validateFormatsStrict:!1,validateFormatExtensions:!0,addMissingDefaults:!1,unknownProperties:"ignore",trim:!1,strictRequired:!1,ignoreNullValues:!1,transform:null},(w.messages={required:"is required",minLength:"is too short (minimum is %{expected} characters)",maxLength:"is too long (maximum is %{expected} characters)",pattern:"invalid input",minimum:"must be greater than or equal to %{expected}",maximum:"must be less than or equal to %{expected}",exclusiveMinimum:"must be greater than %{expected}",exclusiveMaximum:"must be less than %{expected}",divisibleBy:"must be divisible by %{expected}",minItems:"must contain more than %{expected} items",maxItems:"must contain less than %{expected} items",uniqueItems:"must hold a unique set of values",format:"is not a valid %{expected}",conform:"must conform to given constraint",type:"must be of %{expected} type",additionalProperties:"must not exist",unknown:"is not defined in schema"}).enum="must be present in given enumerator",w.formats={email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,"ip-address":/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i,ipv6:/^([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4}$/,"date-time":/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:.\d{1,3})?Z$/,date:/^\d{4}-\d{2}-\d{2}$/,time:/^\d{2}:\d{2}:\d{2}$/,color:/^#[a-z0-9]{6}|#[a-z0-9]{3}|(?:rgb\(\s*(?:[+-]?\d+%?)\s*,\s*(?:[+-]?\d+%?)\s*,\s*(?:[+-]?\d+%?)\s*\))aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow$/i,"host-name":/^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])/,"utc-millisec":{test:function(e){return"number"==typeof e&&0<=e}},regex:{test:function(e){try{new RegExp(e)}catch(e){return!1}return!0}},"mongo-id":/^[0-9a-fA-F]{8}[0-9a-fA-F]{6}[0-9a-fA-F]{4}[0-9a-fA-F]{6}$/,"number-float":/^[\-\+]?\b(\d+[.]\d+$)$/,float:/^[\-\+]?\b(\d+[.]\d+$)$/,integer:/^[\-\+]?[0-9]+$/,empty:/^$/},w.formatExtensions={url:/^(https?|ftp|git):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},w.types={string:function(e){return"string"===D(e)},number:function(e){return"number"===D(e)},boolean:function(e){return"boolean"===D(e)},date:function(e){return"date"===D(e)},regexp:function(e){return"regexp"===D(e)},array:function(e){return"array"===D(e)},object:function(e){return"object"===D(e)},integer:function(e){return"number"===D(e)&&Math.floor(e)===e},float:function(e){return"number"===D(e)&&new RegExp(w.formats.float).exec(e)},null:function(e){return"null"===D(e)},undefined:function(e){return"undefined"===D(e)},any:function(e){return void 0!==e},mongoId:function(e){return e&&"object"==typeof e&&("ObjectID"===e._bsontype||"ObjectId"===e._bsontype)&&w.formats["mongo-id"].test(e)}},e.validate=w,e.mixin=u}("undefined"==typeof window?module.exports:window.json=window.json||{}),function(s,u){"use strict";var e,l;function i(e,t,r){return{attribute:e,expected:t,actual:r,message:(u.validate.messages[e]||"").replace("%{expected}",t)}}function a(e){var t={valid:!0,errors:[]};return null!==e&&(t.valid=!1,t.errors.push(e)),t}s.validate=u.validate,s.mixin=u.mixin,s.extendFormat=function(e,t){if("string"!=typeof e||!(t instanceof RegExp))throw new Error("extensionName or extensionValue undefined or not correct type");if(u.validate.formats.hasOwnProperty(e)||u.validate.formats.hasOwnProperty(e))throw new Error("extensionName: "+e+" already exists in formatExtensions.");u.validate.formatExtensions[e]=t},s.formats={email:function(e){return u.validate.formats.email.test(e)?a(null):a(i("format","email",e))},ipAddress:function(e){return u.validate.formats["ip-address"].test(e)?a(null):a(i("format","ip-address",e))},ipv6:function(e){return u.validate.formats.ipv6.test(e)?a(null):a(i("format","ipv6",e))},dateTime:function(e){return u.validate.formats["date-time"].test(e)?a(null):a(i("format","date-time",e))},date:function(e){return u.validate.formats.date.test(e)?a(null):a(i("format","date",e))},time:function(e){return u.validate.formats.time.test(e)?a(null):a(i("format","time",e))},color:function(e){return u.validate.formats.color.test(e)?a(null):a(i("format","color",e))},hostName:function(e){return u.validate.formats["host-name"].test(e)?a(null):a(i("format","host-name",e))},utcMillisec:function(e){return u.validate.formats["utc-millisec"].test(e)?a(null):a(i("format","utc-millisec",e))},regex:function(e){return e instanceof RegExp?a(null):a(i("format","regex",e))},url:function(e){return u.validate.formatExtensions.url.test(e)?a(null):a(i("format","url",e))},mongoId:function(e){return u.validate.formats["mongo-id"].test(e)?a(null):a(i("format","mongoId",e))},numberFloat:function(e){return"string"==typeof e&&u.validate.formats["number-float"].test(e)?a(null):a(i("format","float",e))},float:function(e){return"string"==typeof e&&u.validate.formats.float.test(e)?a(null):a(i("format","float",e))},integer:function(e){return"string"==typeof e&&u.validate.formats.integer.test(e)?a(null):a(i("format","integer",e))},empty:function(e){return u.validate.formats.empty.test(e)?a(null):a(i("format","empty",e))}},s.types=function(){for(var e={},t=Object.keys(u.validate.types),r=t.length,n=0;n<r;n++)e[t[n]]=function(t){return function(e){return u.validate.types[t](e)?a(null):a(i("type",t,e))}}(t[n]);return e}(),s.rules=((e={maxLength:function(e,t){return!Array.isArray(e)&&"string"!=typeof e||"number"!=typeof t?a(new Error("rules.maxLength(fail): value must be a string or array, max must be a number")):e.length>t?a(i("maxLength",t,e)):a(null)},minLength:function(e,t){return!Array.isArray(e)&&"string"!=typeof e||"number"!=typeof t?a(new Error("rules.minLength(fail): value must be a string or array, min must be a number")):e.length<t?a(i("minLength",t,e)):a(null)},minimum:function(e,t){return a("number"!=typeof e||"number"!=typeof t?new Error("rules.minimum(fail): value must be a number, min must be a number"):e<t?i("minimum",t,e):null)},maximum:function(e,t){return a("number"!=typeof e||"number"!=typeof t?new Error("rules.maximum(fail): value must be a number, max must be a number"):t<e?i("maximum",t,e):null)},exclusiveMinimum:function(e,t){return a("number"!=typeof e||"number"!=typeof t?new Error("rules.exclusiveMinimum(fail): value must be a number, min must be a number"):e<=t?i("exclusiveMinimum",t,e):null)},exclusiveMaximum:function(e,t){return a("number"!=typeof e||"number"!=typeof t?new Error("rules.exclusiveMaximum(fail): value must be a number, max must be a number"):t<=e?i("exclusiveMinimum",t,e):null)},divisibleBy:function(e,t){var r;return"number"!=typeof e||"number"!=typeof t?a(new Error("rules.divisibleBy(fail): value must be a number, div must be a number")):e*(r=0<(r=Math.max((e-Math.floor(e)).toString().length-2,(t-Math.floor(t)).toString().length-2))?Math.pow(10,r):1)%(t*r)!=0?a(i("divisibleBy",t,e)):a(null)},minItems:function(e,t){return Array.isArray(e)&&"number"==typeof t?e.length<t?a(i("minItems",t,e.length)):a(null):a(new Error("rules.minItems(fail): value must be a array, min must be a number"))},maxItems:function(e,t){return Array.isArray(e)&&"number"==typeof t?e.length>t?a(i("maxItems",t,e.length)):a(null):a(new Error("rules.maxItems(fail): value must be a array, max must be a number"))}}).uniqueItems=function(e){return Array.isArray(e)?function(e){for(var t={},r=0,n=e.length;r<n;r++){var u=JSON.stringify(e[r]);if(t[u])return;t[u]=!0}return 1}(e)?a(null):a(i("uniqueItems",e,!0)):a(new Error("rules.uniqueItems(fail): value must be a array"))},e.enum=function(e,t){return void 0!==e&&Array.isArray(t)?-1===t.indexOf(e)?a(i("enum",t,e)):a(null):a(new Error("rules.enum(fail): value must be a defined and enum mus be a array"))},e),s.asyncValidate=(l=[],(e={}).register=function(t,r){l.push(function(e){t(r,e)})},e.exec=function(u,i){var n,a,o,s=l,f=function(e,t){if(l=[],e)i(e);else{for(var r=0,n=t.length;r<n;r+=1)t[r].valid||(u.valid=!1,u.errors.push(t[r].errors[0]));i(null,u)}};0===s.length?f(void 0,s):(n=new Array(s.length),a=0,o=!1,s.forEach(function(e,r){e(function(e,t){if(!o)return e?(o=!0,f(e)):(n[r]=t,(a+=1)===s.length?f(null,n):void 0)})}))},e),s.getValidationFunction=function(o){return o=o||{},function(e,t,r){if(e=e||{},(r=r||{}).isUpdate=r.isUpdate||!1,r.isUpdate)for(var n=Object.keys(t.properties),u=n.length,i=0;i<u;i++)e.hasOwnProperty(n[i])||(t.properties[n[i]].required=!1);for(var a in o)o.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=o[a]);return s.validate(e,t,r)}};for(var t,r=Object.keys(s.types),n=r.length,o=0;o<n;o++)s["is"+(t=r[o])[0].toUpperCase()+t.substr(1)]=function(t,r){return function(e){return r[t](e).valid}}(r[o],s.types)}("undefined"==typeof window?module.exports:window.lxvalid=window.lxvalid||{},"undefined"==typeof window?require("./revalidator"):window.json);
//# sourceMappingURL=lx-valid.min.js.map